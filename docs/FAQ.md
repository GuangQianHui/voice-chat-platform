# 常见问题解答 (FAQ)

## 基础问题

### Q: 什么是语音交流平台？

A: 语音交流平台是一个基于 Web 的智能语音交互系统，支持语音识别、语音合成和传统文化知识问答。用户可以通过语音或文字与 AI 助手进行对话，获取传统文化相关的信息和资源。

### Q: 支持哪些浏览器？

A: 我们支持所有现代浏览器，包括：

- Chrome 70+
- Firefox 65+
- Safari 12+
- Edge 79+

**注意**: 语音功能需要浏览器支持 Web Speech API。

### Q: 需要安装什么软件吗？

A: 不需要安装任何客户端软件，只需要一个支持 Web Speech API 的现代浏览器即可。服务器端需要 Node.js 环境。

## 语音功能

### Q: 为什么我的麦克风不工作？

A: 可能的原因包括：

1. **浏览器权限**: 确保已允许网站访问麦克风

   - Chrome: 点击地址栏左侧的锁图标，允许麦克风权限
   - Firefox: 点击地址栏左侧的麦克风图标，允许权限

2. **硬件问题**: 检查麦克风是否正常工作

   - 测试系统录音功能
   - 检查麦克风是否被其他应用占用

3. **浏览器支持**: 确保使用支持 Web Speech API 的浏览器

4. **HTTPS 要求**: 某些浏览器在非 HTTPS 环境下会限制麦克风访问

### Q: 语音识别准确率如何提高？

A: 提高语音识别准确率的建议：

1. **环境优化**:

   - 在安静的环境中使用
   - 避免背景噪音
   - 保持适当的说话距离

2. **说话方式**:

   - 语速适中，发音清晰
   - 避免方言或口音过重
   - 使用标准普通话

3. **设备优化**:
   - 使用高质量麦克风
   - 确保网络连接稳定
   - 关闭其他可能产生噪音的应用

### Q: 支持哪些语言？

A: 目前主要支持中文（普通话），未来计划支持更多语言。

### Q: 语音合成的声音可以调整吗？

A: 是的，可以调整以下参数：

- 语速（快慢）
- 音调（高低）
- 音量大小

这些设置可以在语音设置面板中调整。

## 功能使用

### Q: 如何开始对话？

A: 有两种方式开始对话：

1. **语音对话**: 点击麦克风按钮，开始说话
2. **文字对话**: 在输入框中输入文字，按回车或点击发送按钮

### Q: 如何查看对话历史？

A: 点击页面右上角的"对话历史"按钮，可以查看所有历史对话记录。

### Q: 如何导出对话记录？

A: 在对话历史页面，选择要导出的对话，点击"导出"按钮，支持导出为 JSON 或 TXT 格式。

### Q: 如何管理资源文件？

A: 点击页面右上角的"资源管理"按钮，可以：

- 上传新的资源文件
- 查看现有资源
- 按类型和分类筛选资源
- 删除不需要的资源

## 技术问题

### Q: 如何部署到自己的服务器？

A: 请参考 [部署指南](DEPLOYMENT.md)，包含详细的部署步骤和配置说明。

### Q: 支持 Docker 部署吗？

A: 是的，我们提供了完整的 Docker 支持，包括 Dockerfile 和 docker-compose.yml 文件。

### Q: 如何配置环境变量？

A: 创建 `.env` 文件，配置以下变量：

```env
PORT=3000
NODE_ENV=production
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=52428800
```

### Q: 如何查看服务器日志？

A: 日志文件位置：

- 错误日志: `logs/err.log`
- 输出日志: `logs/out.log`
- 综合日志: `logs/combined.log`

使用以下命令查看实时日志：

```bash
tail -f logs/combined.log
```

### Q: 如何备份数据？

A: 重要数据包括：

- `conversations/` 目录（对话历史）
- `uploads/` 目录（上传文件）
- `config.json` 配置文件

建议定期备份这些目录和文件。

## 性能问题

### Q: 系统运行缓慢怎么办？

A: 可能的解决方案：

1. **服务器资源**:

   - 增加服务器内存
   - 使用更快的 CPU
   - 优化存储性能

2. **应用优化**:

   - 清理不必要的文件
   - 优化数据库查询
   - 启用缓存机制

3. **网络优化**:
   - 使用 CDN 加速
   - 优化图片和文件大小
   - 启用 Gzip 压缩

### Q: 内存使用过高怎么办？

A: 解决方案：

1. **Node.js 内存限制**:

   ```bash
   node --max-old-space-size=4096 server.js
   ```

2. **PM2 内存限制**:

   ```javascript
   // ecosystem.config.js
   max_memory_restart: "1G";
   ```

3. **定期重启**:
   ```bash
   pm2 restart voice-chat-platform
   ```

### Q: 如何处理大量并发用户？

A: 建议的扩展方案：

1. **负载均衡**: 使用 Nginx 进行负载均衡
2. **集群模式**: 使用 PM2 集群模式
3. **数据库优化**: 使用 Redis 缓存
4. **CDN 加速**: 静态资源使用 CDN

## 安全问题

### Q: 如何保护用户隐私？

A: 我们采取以下措施保护用户隐私：

1. **数据加密**: 敏感数据使用加密存储
2. **访问控制**: 实施适当的访问权限控制
3. **日志脱敏**: 日志中不记录敏感信息
4. **HTTPS**: 强制使用 HTTPS 传输

### Q: 如何防止 XSS 攻击？

A: 安全措施包括：

1. **输入验证**: 严格验证用户输入
2. **输出编码**: 对输出内容进行 HTML 编码
3. **CSP 策略**: 实施内容安全策略
4. **定期更新**: 及时更新依赖包

### Q: 如何配置 SSL 证书？

A: 推荐使用 Let's Encrypt 免费 SSL 证书：

```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

## 故障排除

### Q: 服务器启动失败怎么办？

A: 检查步骤：

1. **端口占用**:

   ```bash
   lsof -i :3000
   kill -9 <PID>
   ```

2. **依赖问题**:

   ```bash
   npm install
   ```

3. **权限问题**:

   ```bash
   sudo chown -R node:node /path/to/app
   ```

4. **查看错误日志**:
   ```bash
   tail -f logs/err.log
   ```

### Q: 文件上传失败怎么办？

A: 可能的原因：

1. **文件大小超限**: 检查文件大小是否超过限制
2. **文件类型不支持**: 确认文件格式是否支持
3. **磁盘空间不足**: 检查服务器磁盘空间
4. **权限问题**: 检查上传目录权限

### Q: 语音功能无法使用？

A: 排查步骤：

1. **浏览器支持**: 确认浏览器支持 Web Speech API
2. **HTTPS 环境**: 某些浏览器需要 HTTPS 才能使用麦克风
3. **权限设置**: 检查麦克风权限
4. **网络连接**: 确保网络连接正常

## 开发相关

### Q: 如何贡献代码？

A: 请参考 [贡献指南](CONTRIBUTING.md)，包含详细的贡献流程和规范。

### Q: 如何运行测试？

A: 目前项目使用基础的测试框架：

```bash
npm test
```

### Q: 如何添加新功能？

A: 开发流程：

1. Fork 项目到自己的 GitHub 账户
2. 创建功能分支
3. 开发新功能
4. 提交 Pull Request
5. 等待代码审查

### Q: 如何报告 Bug？

A: 请通过以下方式报告 Bug：

1. 在 GitHub Issues 中创建新 Issue
2. 提供详细的 Bug 描述
3. 包含重现步骤
4. 提供错误截图（如果适用）

## 联系支持

### Q: 如何获取技术支持？

A: 支持渠道：

1. **GitHub Issues**: 提交技术问题
2. **文档**: 查看项目文档
3. **社区**: 参与项目讨论
4. **邮件**: 发送邮件到项目维护者

### Q: 如何反馈建议？

A: 我们欢迎所有形式的反馈：

1. **功能建议**: 在 GitHub Issues 中提出
2. **UI/UX 改进**: 提供设计建议
3. **文档改进**: 提交文档更新
4. **Bug 报告**: 详细描述问题

---

如果您的问题没有在这里找到答案，请：

1. 查看项目文档
2. 搜索 GitHub Issues
3. 创建新的 Issue
4. 联系项目维护者

感谢您使用语音交流平台！ 🙏
